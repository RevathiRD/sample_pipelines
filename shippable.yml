# Language setting
language: python

# Version number
python:
  - 2.7
    
build:
  pre_ci:
  #Testing for pre_ci carrying over to pre_ci_boot
    - docker build -t=742038439709.dkr.ecr.us-west-2.amazonaws.com/sample_node:latest .

  ci:
    - python --version
    - docker pull 742038439709.dkr.ecr.us-west-2.amazonaws.com/sample_node:latest
  
  post_ci:
    - docker push 742038439709.dkr.ecr.us-west-2.amazonaws.com/sample_node:latest

integrations:
  hub: 
  #ecr with new integration using "hub" tag in integrations
    - integrationName: awskeys
      type: amazonKeys
      region: us-west-2      
  
  #deploy: 
  #elastic beanstalk with new awskeys integrations using "deploy" tag in integrations
    #- integrationName: awskeys
    #  type: amazonKeys
    #  target: eb_paas
    #  platform: Node.js
    #  application_name: sample-app
    #  env_name: sample-appEnv
    #  region: us-east-1
      
  #cli:
  #elastic beanstalk using "cli" tag in integrations
   # - integrationName: awskeys
     # type: amazonKeys
     # scope: ebs #new
    #  platform: Node.js
    #  application_name: sample-app
    #  env_name: SampleApp-env
     # region: us-west-2
  
   # - integrationName: awskeys
   #   type: amazonKeys
   #   scope: ecr #new
   #   region: us-east-1      
